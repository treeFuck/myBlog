# 模拟面试题

## 二、项目
### 2.1 QG 2020 招新网
我们工作室用以宣传招新的一个纯前端网站，结合结合一些动画和排版设计来介绍我们工作室。这个项目最大的亮点，我用了一些技巧对网页性能进行了多维度的优化：
1. 首先是静态资源加载方面：
	1. 压缩，我对字体包进行的字蛛压缩，图片也进行了无损压缩
	2. 加快下载速度，我把页面全部静态资源都挂到阿里云 oss 对象存储上
	3. 这方面的优化，将首页白屏时间从大概从 0.8 毫秒降低到了 0.1 毫秒，用户一般察觉不到。
2. 动画帧卡顿的优化：
	1. 用 requestAnimationFrame 改写定时器动画，做到一帧一渲染，避免阻塞
	2. 用 web woker 开了一个子线程，分离 js 引擎线程上的计算任务，避免它阻塞 GUI 渲染线程而造成动画卡顿
	3. 用 css3 开启 GPU 硬件加速，大大优化手机端动画的渲染性能

#### 2.1.1 什么叫一个流畅的动画？
答：动画本质是帧的切换，切换得越快，动画越流畅；切换得越慢，动画越卡顿。因为显示器的刷新频率大多是 60 HZ，所以**一个流畅的动画对应的页面重新渲染频率最好是 16.67 ms 一次**。

另外在浏览器内核进程里，js 引擎线程和 GUI 渲染线程是互斥的。也就是说，**在一个动画的一帧里， js 执行+重新布局+重新绘制 ≈ 16.67 毫秒，那么这个动画就是流畅的**。

#### 2.1.2 说一下 CPU 硬件加速

#### 2.1.3 说一下你是怎么使用 web worker 分离 js 主线程计算任务的 

### 2.2 “未闻花名”小程序
这个一个类似于花的“字典”的小程序，主体功能是查询各类花卉的信息。在这个功能上我们拓展出其他的一些功能，比如每天给用户推荐一朵花、根据花的含义进行送花推荐、提供日记模块给用户记录有关种花的生活日常等。

我负责的是其中花卉字典和种花日记模块。

项目两点的话，有两个点：
1. 第一，是对全部 ajax 请求进行的统一的封装，让其他开发者只需关注请求成功后的逻辑。请求出错的话，会弹出错误提示框，没有登陆 token 的话，重定向回登录页等。
2. 第二，是花卉字典里需要展示一个无限下拉的花卉列表。直接一次渲染的话，会造成页面卡顿。为此，我用了虚拟滚动，去xxxx

#### 2.2.1 说一下虚拟滚动的原理

#### 2.2.2 说一下你怎么使用的小程序云存储

### 2.3 构建民航业知识图谱并实现语义查询
这个第九届软件杯比赛的一个赛题，前端这边的工作主要是展示一个知识图谱。为了让这个知识图谱更具有操作性，比如点击、拖拽、放缩等，我使用了 svg 和 d3 来绘制知识图谱。

项目的亮点的话，是我对知识图谱 svg 的 d3 操作进行了封装，并用 proxy 代理将它维护成一段响应式数据，这样子其他开发者只需要关注数据本身，而不需要关注 d3 是怎么绘制 svg 的。

#### 2.3.1 说一下你使用 Proxy 进行封装的具体思路