# css 里的层叠

## 一、层叠上下文
z-index 的比较只有在同一个层叠上下文里比较才具有意义，如果是跨层叠上下文的 z-index 比较，会以层叠上下文所在的层级为准。

产生层叠上下文的方法：

1. **页面 `<html>` 根元素** 
2. position + z-index（**绝对定位 / 相对定位 / 固定定位**，且 **z-index 不是 auto** 时） 
3. 一些 css3 属性
   + flex 容器里，z-index 不是 auto 的子元素
   + **元素的 opacity 不是 1**
   + **元素的 transform 不是 none**
   + 元素的 filter 不是 none

## 二、z-index 层叠顺序

在同一个层叠上下文里，层叠顺序是怎么样的呢，由里到外排序如下：

1. 层叠上下文的 background、border
2. position + z-index < 0
3. 普通子元素
4. 浮动元素
5. position + z-index >= 0