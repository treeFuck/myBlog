# 小程序

> 参考文档：
> [小程序开发指南](https://developers.weixin.qq.com/ebook?action=get_post_info)
> [小程序开放文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)

## 一、小程序介绍
### 1.1 小程序与普通网页开发的区别
在浏览器内核里，JS 引擎线程和 GUI 渲染线程是互斥的。因为 JS 线程可以操作 DOM，所以两个线程如果并行，JS 线程一边修改 DOM，GUI 渲染一边依赖 DOM 去渲染，二者可能产生冲突而导致意想不到的错误。

而在小程序中，JS 线程和渲染线程是并行的，不过小程序的 JS 线程不能直接操作 DOM，只能修改数据，数据被修改后会触发页面重新渲染。换句话说，小程序的逻辑层和渲染层是分开的。

> 以上是两者程序逻辑设计上的最大区别。
> 另外，还有两者运行环境、开发流程、网络协议等方面上也存在差异，这里略过。

### 1.2 小程序的兼容
和传统 web 页面考虑多个浏览器兼容类似，小程序也要考虑兼容问题。不过小程序的兼容数量不多，只有三种：
1. IOS 微信客户端
2. Android 微信客户端
3. 小程序开发者工具

以下是三种环境下小程序的渲染层、逻辑层环境：

|     运行环境     |     逻辑层     |     渲染层     |
| :--------------: | :------------: | :------------: |
|       IOS        | JavaScriptCore |   WKWebView    |
|       安卓       |   X5 JSCore    |    X5浏览器    |
| 小程序开发者工具 |      NWJS      | Chrome WebView |

## 二、代码相关

### 2.1 rpx 尺寸单位

### 2.2 js 模块化与作用域

### 2.3 脚本执行顺序

